ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/YYYY';
DROP TABLE FACTURA;
DROP TABLE ALMACENA;
DROP TABLE ESTANTE;
DROP TABLE GALPON;
DROP TABLE PRODUCTO;
DROP TABLE CLIENTE;

CREATE TABLE CLIENTE( 
RUT NUMBER(5) NOT NULL CONSTRAINT CLIENTE_pk PRIMARY KEY, 
RAZONSOCIAL VARCHAR2(120) CONSTRAINT CLIENTE_Ak UNIQUE NOT NULL, 
TELEFONO NUMBER(30) NOT NULL, 
DIRECCION VARCHAR2(80) NOT NULL, 
FCHING DATE NOT NULL);

CREATE TABLE PRODUCTO( 
CODPROD NUMBER(5) NOT NULL CONSTRAINT PRODUCTO_pk PRIMARY KEY, 
DESCRIPCION VARCHAR2(100) NOT NULL, 
RUT NUMBER(5) NOT NULL CONSTRAINT PRODUCTO_TO_CLIENTE_FK REFERENCES CLIENTE, 
FDESDE DATE NOT NULL,
FHASTA DATE,
PRECIO NUMBER(5) NOT NULL,
TIPO VARCHAR2(100) NOT NULL);

CREATE TABLE GALPON( 
NOMBRE VARCHAR2(100) NOT NULL CONSTRAINT GALPON_pk PRIMARY KEY,
SUPERFICIE NUMBER(10) NOT NULL);

CREATE TABLE ESTANTE( 
NOMBRE VARCHAR2(100) NOT NULL CONSTRAINT ESTANTE_TO_GALPON_FK REFERENCES GALPON,
FILA NUMBER(5) NOT NULL,
NUMESTANTE NUMBER(5) NOT NULL,
CONSTRAINT ESTANTE_Pk PRIMARY KEY(NOMBRE, FILA, NUMESTANTE));

CREATE TABLE ALMACENA( 
NOMBRE VARCHAR2(100) NOT NULL,
FILA NUMBER(5) NOT NULL,
NUMESTANTE NUMBER(5) NOT NULL,
CODPROD NUMBER(5) NOT NULL CONSTRAINT ALMACENA_TO_PRODUCTO_FK REFERENCES PRODUCTO, 
CONSTRAINT ALMACENA_Pk PRIMARY KEY(NOMBRE, FILA, NUMESTANTE, CODPROD),
CONSTRAINT ALM_TO_EST_FK FOREIGN KEY(NOMBRE, FILA, NUMESTANTE) REFERENCES ESTANTE (NOMBRE, FILA, NUMESTANTE));

CREATE TABLE FACTURA( 
NUMFAC NUMBER(5) NOT NULL CONSTRAINT FACTURA_pk PRIMARY KEY, 
CODPROD NUMBER(5) NOT NULL CONSTRAINT FACTURA_TO_PRODUCTO_FK REFERENCES PRODUCTO,
FECHA DATE NOT NULL,
IMPORTE NUMBER(10) NOT NULL,
FCHVENCIMIENTO DATE NOT NULL);

INSERT INTO CLIENTE VALUES ('70001','GALLETITAS S.A','2324112','CUAREIM 7982',to_date('19/02/2016','DD/MM/YYYY'));
INSERT INTO CLIENTE VALUES ('70002','PUNTOLUK','2341565','PARAGUAY 4015',to_date('01/02/2016','DD/MM/YYYY'));
INSERT INTO CLIENTE VALUES ('70003','INFORMATIC','2324155','PINTA 2014',to_date('29/02/2016','DD/MM/YYYY'));
INSERT INTO CLIENTE VALUES ('70004','INFOLAB S.A','2301001','CUAREIM 1923',to_date('10/02/2016','DD/MM/YYYY'));
INSERT INTO CLIENTE VALUES ('70005','SERVICLEAN','2321414','ANDES 2321',to_date('15/05/2016','DD/MM/YYYY'));

INSERT INTO PRODUCTO VALUES ('1','Sushi','70001',to_date('23/06/2016','DD/MM/YYYY'),null,'5000','Alimento');
INSERT INTO PRODUCTO VALUES ('2','Galletitas','70001',to_date('23/06/2016','DD/MM/YYYY'),null,'2000','Alimento');
INSERT INTO PRODUCTO VALUES ('3','Alfajor','70001',to_date('23/06/2016','DD/MM/YYYY'),null,'1000','Alimento');
INSERT INTO PRODUCTO VALUES ('4','Aspiradora','70001',to_date('23/06/2016','DD/MM/YYYY'),null,'2000','Limpieza');
INSERT INTO PRODUCTO VALUES ('5','Florero','70002',to_date('12/02/2016','DD/MM/YYYY'),null,'6000','Bazar');
INSERT INTO PRODUCTO VALUES ('6','Luces','70002',to_date('23/04/2016','DD/MM/YYYY'),null,'7000','Bazar');
INSERT INTO PRODUCTO VALUES ('7','Perfume CD','70002',to_date('23/05/2016','DD/MM/YYYY'),null,'10000','Perfumería');
INSERT INTO PRODUCTO VALUES ('8','Perfume CH','70002',to_date('12/02/2016','DD/MM/YYYY'),to_date('23/06/2016','DD/MM/YYYY'),'20000','Perfumería');
INSERT INTO PRODUCTO VALUES ('9','Monitor','70003',to_date('23/10/2016','DD/MM/YYYY'),to_date('12/12/2016','DD/MM/YYYY'),'10000','Informática');
INSERT INTO PRODUCTO VALUES ('10','Mouse','70003',to_date('23/09/2016','DD/MM/YYYY'),to_date('12/12/2016','DD/MM/YYYY'),'5000','Informática');
INSERT INTO PRODUCTO VALUES ('11','Torre','70003',to_date('23/11/2016','DD/MM/YYYY'),to_date('20/12/2016','DD/MM/YYYY'),'6000','Informática');
INSERT INTO PRODUCTO VALUES ('12','Impresora','70004',to_date('23/10/2016','DD/MM/YYYY'),to_date('20/12/2016','DD/MM/YYYY'),'7000','Informática');
INSERT INTO PRODUCTO VALUES ('13','Televisor','70004',to_date('23/06/2016','DD/MM/YYYY'),to_date('20/12/2016','DD/MM/YYYY'),'8000','Electrodoméstico');
INSERT INTO PRODUCTO VALUES ('14','Microondas','70005',to_date('23/06/2016','DD/MM/YYYY'),null,'9000','Electrodoméstico');
INSERT INTO PRODUCTO VALUES ('15','Balde','70005',to_date('23/10/2016','DD/MM/YYYY'),null,'100','Limpieza');
INSERT INTO PRODUCTO VALUES ('16','Loción','70005',to_date('23/06/2016','DD/MM/YYYY'),null,'200','Perfumería');

INSERT INTO GALPON VALUES ('Logística del Sur','5000');
INSERT INTO GALPON VALUES ('Logística del Norte','20000');
INSERT INTO GALPON VALUES ('Montevideo DistAdmin','35000');

INSERT INTO ESTANTE VALUES ('Logística del Norte','1','1');
INSERT INTO ESTANTE VALUES ('Logística del Norte','1','2');
INSERT INTO ESTANTE VALUES ('Logística del Sur','1','1');
INSERT INTO ESTANTE VALUES ('Logística del Sur','1','2');
INSERT INTO ESTANTE VALUES ('Montevideo DistAdmin','1','1');
INSERT INTO ESTANTE VALUES ('Montevideo DistAdmin','1','2');

INSERT INTO ALMACENA VALUES ('Logística del Norte','1','1','10');
INSERT INTO ALMACENA VALUES ('Logística del Sur','1','2','9');
INSERT INTO ALMACENA VALUES ('Logística del Sur','1','2','11');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','1','1');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','1','3');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','1','6');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','1','7');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','1','8');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','1','12');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','1','13');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','1','16');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','2','2');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','2','4');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','2','5');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','2','14');
INSERT INTO ALMACENA VALUES ('Montevideo DistAdmin','1','2','15');

INSERT INTO FACTURA VALUES ('1','1',to_date('12/12/2016','DD/MM/YYYY'),'5000',to_date('30/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('2','2',to_date('12/12/2016','DD/MM/YYYY'),'2000',to_date('30/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('3','3',to_date('12/12/2016','DD/MM/YYYY'),'1000',to_date('30/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('4','4',to_date('12/12/2016','DD/MM/YYYY'),'2000',to_date('30/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('5','5',to_date('20/06/2016','DD/MM/YYYY'),'6000',to_date('12/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('6','6',to_date('20/06/2016','DD/MM/YYYY'),'7000',to_date('12/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('7','7',to_date('20/06/2016','DD/MM/YYYY'),'10000',to_date('12/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('8','8',to_date('20/06/2016','DD/MM/YYYY'),'20000',to_date('12/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('9','9',to_date('20/06/2016','DD/MM/YYYY'),'10000',to_date('12/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('10','10',to_date('20/06/2016','DD/MM/YYYY'),'5000',to_date('12/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('11','11',to_date('12/12/2016','DD/MM/YYYY'),'6000',to_date('30/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('12','12',to_date('12/12/2016','DD/MM/YYYY'),'7000',to_date('30/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('13','13',to_date('12/12/2016','DD/MM/YYYY'),'8000',to_date('30/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('14','14',to_date('12/12/2016','DD/MM/YYYY'),'9000',to_date('30/12/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('15','15',to_date('20/06/2016','DD/MM/YYYY'),'100',to_date('10/08/2016','DD/MM/YYYY'));
INSERT INTO FACTURA VALUES ('16','16',to_date('20/06/2016','DD/MM/YYYY'),'200',to_date('10/08/2016','DD/MM/YYYY'));

COMMIT; 
